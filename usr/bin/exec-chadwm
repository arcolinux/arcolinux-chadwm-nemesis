#!/bin/bash

# Define paths
USER_DIR="$HOME/.config/arco-chadwm"
SYSTEM_DIR="/etc/xdg/arco-chadwm"
SCRIPT="scripts/run.sh"

# Check if the user directory exists
if [ -d "$USER_DIR" ]; then
    echo "Using user configuration directory: $USER_DIR"
    cd "$USER_DIR" || { echo "Failed to navigate to $USER_DIR"; exit 1; }
elif [ -d "$SYSTEM_DIR" ]; then
    echo "User directory not found. Using system configuration directory: $SYSTEM_DIR"
    cd "$SYSTEM_DIR" || { echo "Failed to navigate to $SYSTEM_DIR"; exit 1; }
else
    echo "Error: Neither $USER_DIR nor $SYSTEM_DIR exists."
    exit 1
fi

# Run the script if it exists
if [ -x "$SCRIPT" ]; then
    echo "Executing $SCRIPT..."
    ./$SCRIPT
else
    echo "Error: $SCRIPT not found or not executable."
    exit 1
fi
